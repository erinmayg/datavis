(this["webpackJsonpdfdr-datavis"]=this["webpackJsonpdfdr-datavis"]||[]).push([[0],{15:function(e,t){},24:function(e,t,n){},25:function(e,t,n){},31:function(e,t){},32:function(e,t){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(5),c=n.n(l),o=(n(24),n(3)),s=n(2),i=(n(25),n(4)),u=n(13),f=n(18),h=n.n(f),b=n(19),d=n.n(b),j=n(1);var p=function(e){var t=["palette1","palette10","palette2","palette9","palette3","palette8","palette4","palette7","palette5","palette6"],n=function(t){return t.map((function(t){var n=t[0],r=t[1];return{name:n,data:e.time.map((function(t,r){return[t,e.data[r][n]]})).filter((function(e,t){return t%r===0&&!isNaN(e[1])}))}}))};return Object(j.jsx)("div",{children:e.columnsList.map((function(r,a){return Object(j.jsx)(h.a,{series:n(r),options:(l=a+1,c=e.showMarker,o=e.syncCharts,{chart:{id:l,group:o?"dfdr":null,type:"line",zoom:{enabled:!0,type:o?"x":"xy",autoScaleYaxis:!o}},yaxis:{labels:{minWidth:20}},xaxis:{type:"datetime",labels:{formatter:function(e,t){return d()(new Date(t)).format("HH:mm:ss")}}},legend:{show:!0,showForSingleSeries:!0},stroke:{width:1},theme:{palette:t[(l-1)%10]},dataLabels:{enabled:!1,enabledOnSeries:[0],formatter:function(t,n){return e.data[n.dataPointIndex].Comments}},markers:{size:c?2:0,strokeWidth:0}}),height:500/e.columnsList.length},function(e){return e.toString()+(new Date).getTime().toString()}(a));var l,c,o}))})};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"});function g(e,t){var n=e.title,a=e.titleId,l=v(e,["title","titleId"]);return r.createElement("svg",m({className:"w-6 h-6 helpButton",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,O)}var x=r.forwardRef(g);n.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var k=r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"});function S(e,t){var n=e.title,a=e.titleId,l=w(e,["title","titleId"]);return r.createElement("svg",y({className:"w-6 h-6 button add",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,k)}var N=r.forwardRef(S);n.p;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P=r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"{2}",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"});function I(e,t){var n=e.title,a=e.titleId,l=E(e,["title","titleId"]);return r.createElement("svg",C({className:"w-6 h-6 button remove",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,P)}var R=r.forwardRef(I);n.p;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var B=r.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"});function z(e,t){var n=e.title,a=e.titleId,l=L(e,["title","titleId"]);return r.createElement("svg",F({className:"w-6 h-6 button add",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,B)}var A=r.forwardRef(z);n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var T=r.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"});function H(e,t){var n=e.title,a=e.titleId,l=M(e,["title","titleId"]);return r.createElement("svg",D({className:"w-6 h-6 colButton--remove remove",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},l),n?r.createElement("title",{id:a},n):null,T)}var W=r.forwardRef(H);n.p;var _=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)([]),c=Object(s.a)(l,2),f=c[0],h=c[1],b=Object(r.useState)(),d=Object(s.a)(b,2),m=d[0],v=d[1],O=Object(r.useState)([]),g=Object(s.a)(O,2),y=g[0],w=g[1],k=Object(r.useState)([[[]]]),S=Object(s.a)(k,2),C=S[0],E=S[1],P=Object(r.useState)([]),I=Object(s.a)(P,2),F=I[0],L=I[1],B=Object(r.useState)([]),z=Object(s.a)(B,2),D=z[0],M=z[1],T=Object(r.useState)(!1),H=Object(s.a)(T,2),_=H[0],V=H[1],G=Object(r.useState)(!1),J=Object(s.a)(G,2),U=J[0],Y=J[1],q=function(e){var t;E([[[]]]),v(e.value),t=e.value,new Promise((function(e,r){var a=new FileReader;a.readAsArrayBuffer(n),a.onload=function(n){var r=n.target.result,a=i.read(r,{type:"buffer",cellDates:!0,sheets:t,sheetRows:1}).Sheets[t],l=i.utils.sheet_to_csv(a);e(l)},a.onerror=function(e){r(e)}})).then((function(e){return w(e.split(",").filter((function(e){return""!==e})))})),function(e){var t=new Promise((function(t,r){var a=new FileReader;a.readAsArrayBuffer(n),a.onload=function(n){var r=n.target.result,a=i.read(r,{type:"buffer",cellDates:!0,sheets:e}).Sheets[e],l=i.utils.sheet_to_json(a);t(l)},a.onerror=function(e){r(e)}})),r=[];t.then((function(e){L(e);var t="GMT";for(var n in e[3])if(e[3][n]instanceof Date){t=n;break}Object.values(e).forEach((function(e){r.push(e[t])})),M(r)}))}(e.value)},K=function(e){return Object(j.jsxs)("span",{className:"tooltip",children:[Object(j.jsx)(x,{}),Object(j.jsx)("span",{className:"tooltip-text",children:e})]})},Q=Object(j.jsxs)("label",{children:["Choose columns:"," ",K("Select multiple parameters to plot on the same chart. To plot in a different graph click the 'Add' button")]}),X=Object(j.jsxs)("label",{children:["Sampling rate:"," ",K("Sample 1 data every n seconds, where n is the user input")]}),Z=function(e,t){return Object(j.jsxs)(j.Fragment,{children:[t===C[e].length-1&&Object(j.jsx)(A,{alt:"Add column",onClick:function(n){return function(e,t){if(0!==C[e][t].length){var n=Object(o.a)(C);n[e]=[].concat(Object(o.a)(n[e]),[[]]),console.log(n),E(n)}}(e,t)}}),C[e].length>1&&Object(j.jsx)(W,{alt:"Remove columnn",onClick:function(n){return function(e,t){var n=Object(o.a)(C);n[e].splice(t,1),console.log(n),E(n)}(e,t)}})]})},$=function(e){return Object(j.jsxs)(j.Fragment,{children:[e===C.length-1&&Object(j.jsx)(N,{alt:"Add graph",onClick:function(t){return function(e){0!==C[e][0].length&&E([].concat(Object(o.a)(C),[[[]]]))}(e)}}),C.length>1&&Object(j.jsx)(R,{onClick:function(t){return function(e){var t=Object(o.a)(C);t.splice(e,1),E(t)}(e)}})]})},ee=Object(j.jsx)("div",{className:"flex",children:Object(j.jsxs)("label",{children:["Choose sheet:",Object(j.jsx)(u.a,{className:"select",placeholder:"Sheet",value:{value:m,label:m},onChange:function(e){return q(e)},options:f.map((function(e){return{value:e,label:e}}))})]})}),te=function(e,t){return Object(j.jsxs)("div",{className:"selectCols",children:[0===e&&0===t&&Q,Object(j.jsx)(u.a,{className:"select",placeholder:"Column(s)",value:{value:C[e][t][0],label:C[e][t][0]},onChange:function(n){return function(e,t,n){var r=Object(o.a)(C);r[t][n]=[e.value,1].concat(),console.log(r),E(r)}(n,e,t)},options:y.map((function(e){return{value:e,label:e}}))},e)]})},ne=function(e,t){return Object(j.jsxs)("div",{children:[0===e&&0===t&&X,Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("p",{children:"1/"}),Object(j.jsx)("input",{type:"number",className:"rate",min:"1",max:F.length,placeholder:"1",onChange:function(n){return function(e,t,n){var r=Object(o.a)(C);r[t][n]=[r[t][n][0],e].concat(),console.log(r),E(r)}(n.target.value,e,t)}})]})]})},re=Object(j.jsx)("div",{className:"columns",children:C.map((function(e,t){return Object(j.jsxs)("div",{className:"flex graphForm--outer",children:[Object(j.jsxs)("div",{className:"graphForm",children:[Object(j.jsxs)("h1",{children:["Graph ",t+1]}),e.map((function(e,n){return Object(j.jsxs)("div",{className:"flex",children:[te(t,n),ne(t,n),Z(t,n)]},n)}))]}),$(t)]},t)}))});return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"title",children:Object(j.jsx)("h1",{children:"DFDR Data Visualisation"})}),Object(j.jsxs)("div",{className:"form",children:[Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("label",{className:"file",children:[Object(j.jsx)("input",{type:"file",id:"file",accept:".xls, .xlsx",onChange:function(e){var t=e.target.files[0];a(t),function(e){new Promise((function(t,n){var r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(e){var n=e.target.result,r=i.read(n,{type:"buffer",cellDates:!0,sheets:0,sheetRows:1});t(r.SheetNames)},r.onerror=function(e){n(e)}})).then((function(e){return h(e)}))}(t)}}),Object(j.jsxs)("span",{className:"file-custom",children:[Object(j.jsx)("span",{className:"filename",children:0===n.length?"Choose .xlsx file...":n.name}),Object(j.jsx)("span",{className:"browse",children:"Browse"})]})]}),Object(j.jsx)("p",{className:"warning",children:"Please ensure that the first row of each sheet is the parameters"})]}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"checkbox",className:"checkbox",checked:_,onChange:function(){return V(!_)}}),Object(j.jsx)("label",{className:"checkbox-label",children:"Show Marker"}),Object(j.jsx)("input",{type:"checkbox",className:"checkbox",checked:U,onChange:function(){return Y(!U)}}),Object(j.jsxs)("label",{className:"checkbox-label",children:["Sync Charts"," ",K("Untick to enable zoom across y-axis. Tick to enable synced zooming (across x-axis) for all charts")]})]}),f.length>0&&ee,m&&y.length>0&&re]}),C[0][0].length>0&&Object(j.jsx)(p,{time:D,data:F,columnsList:C.filter((function(e){return e.filter((function(e){return e.length>0})).length>0})),showMarker:_,syncCharts:U})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),l(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root")),V()}},[[52,1,2]]]);
//# sourceMappingURL=main.c8878aef.chunk.js.map